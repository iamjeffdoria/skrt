{% extends 'webapp/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100" style="padding-top: 2rem; margin-top: -10%;">
    <div class="bg-dark text-light shadow-lg p-5 rounded-lg" style="max-width: 400px; width: 100%; position: relative;">
        <h3 class="text-center mb-4 position-relative">
            <i class="fa fa-lock" aria-hidden="true"></i> &nbsp; Password Reset
            <div class="position-absolute top-0 end-0 mt-2 me-2" style="opacity: 0.1;">
                <i class="fa fa-cogs fa-2x"></i>
            </div>
        </h3>
        <hr class="bg-info mb-4" style="border-width: 2px;">

        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <p class="text-center mb-4">Enter your email to receive a password reset link</p>
            
            <div class="mb-4">
                <input type="email" class="form-control form-control-lg" id="email" name="email" placeholder="Your email address" required>
                <div class="invalid-feedback">Please provide a valid email address.</div>
            </div>
            
            <button type="submit" class="btn btn-primary w-100 p-2" style="background: linear-gradient(to right, #1e3c72, #2a5298); border: none; border-radius: 50px; transition: background 0.3s ease;">
                <i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; Send Password Reset Link
            </button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Basic client-side validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>
{% endblock %}
